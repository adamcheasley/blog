<!DOCTYPE html>

<html lang="en">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Someplace nice - Relstorage</title>
    <link rel="stylesheet" type="text/css" href="../../newstyle.css"/>
  </head>

  <body>

    <div id="content">
      <h1><a href="/">Someplace nice</a></h1>
      <div id="description">
        <div>
          <p id="nav_container">
            <a href="http://www.someplacenice.co.uk">Home</a>
            <span class="dim">/</span>
            Blog
            <span class="dim">/</span>
            <a href="http://www.someplacenice.co.uk/projects.html">Projects</a>
            <span class="dim">/</span>
            <a href="http://www.someplacenice.co.uk/contact.html">Contact</a>

          </p>
        </div>
      </div>

      <div class="post">

        <div class="labels">
          <div class="date">
            February 1
          </div>
        </div>

        <div class="regular">

          <h2>
            <a href="/blog">
              Plone: Relstorage for mere mortals
            </a>
          </h2>

          <div id="post-body">
	    <p>
	      At ploneconf 2014, Matthew Sital-Singh and I gave a talk on using
	      relstorage in Plone. Our main use case for this was that one of our
	      biggest sites still uses FileStorage in the ZODB, which means that
	      this file and zeo are a single point of failure.
	    </p>
	    <p>
	      Switching your plone site from using FileStorage to using RelStorage
	      is quite simple. You can simply add the following to your buildout,
	      under the instance part:
	    </p>
	    <pre>
	      rel-storage =
	      	type postgresql
	      	db plone
	      	user plone
	      	passwd PASSWORD
	    </pre>
	    <p>
	      If you this is a fresh site, you will be up and running in RelStorage mode. The ZODB
	      will write all data to this relational database. Notice that I've set it to use
	      postgres in the config above. There are other options here, including mysql, but
	      we ran into some pretty big issues when using mysql, so I would strongly recommend
	      postgres.
	    </p>
	    <p>
	      If however, this is not a new site, you would need to migrate your data from FileStorage
	      into the relational database. This can be achieved with the
	      <a href="https://pypi.python.org/pypi/RelStorage#zodbconvert">
		zodbconvert script</a>.
	    </p>

	    <p>
	      You can
	      <a href="https://docs.google.com/presentation/d/1zeJ7MiMitejAdSSUkntHrqHs_Iu9h4q1vYJ1GwQbnpI/edit?usp=sharing">
		view our slides from the presentation here.
	      </a>
	      This also contains links to stats on the type of speed increases you are likely to see
	      when using RelStorage.
	    </p>
          </div>

        </div>

      </div>
    </div>

  </body>

</html>
